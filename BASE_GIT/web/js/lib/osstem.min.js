(function($){var osstem=(function(){var osstem=function(){return new osstem.fn.init()};osstem.fn=osstem.prototype={init:function(){return this}};osstem.string={lpad:function(src,length,pad){if(!this.hasText(src))return"";var buffer=[];for(var i=0;i<length-src.length;i++){buffer.push(pad)}src=buffer.join("")+src;return src.substring(0,length)},hasText:function(str){if(!str)return false;str=this.trim(str);if(str=="")return false;return true},trim:function(str){return str.replace(/^\s\s*/,'').replace(/\s\s*$/,'')},nvls:function(str){if(!str)return"";else return str},decode:function(expr1,decodeString){decodeString=this.trim(decodeString);var strs=decodeString.split(',');return this.decode_internal(expr1,strs)},decode_internal:function(expr1,exprs){var i=0;var hasElseValue=false;var isMatch=false;var expr=this.nvls(expr1);hasElseValue=(exprs.length%2)==1?true:false;for(i=0;i<exprs.length;i++){if((i%2)==0&&expr==exprs[i])return exprs[i+1];i++}if(!isMatch&&hasElseValue)rv=exprs[exprs.length-1];return rv},replace:function(str,findStr,replaceStr){if(!str)return str;return str.replace(new RegExp(findStr,"g"),replaceStr)},right:function(str,length){if(!str)return"";return(str.length>=length)?str.substring(str.length-length):str},left:function(str,length){if(!str)return"";return str.length>=length?str.substring(0,length):str},formatDate:function(str,ch){if(str==null)return"";if(str.length<5)return str;else if(str.length>4&&str.length<7){return this.left(str,4)+ch+str.substring(4)}else{return this.left(str,4)+ch+str.substring(4,6)+ch+str.substring(6)}},formatSsn:function(str){if(str==null)return"";str=this.replace(str,"-","");if(str.length<7)return str;return this.left(str,6)+"-"+str.substring(6)},formatZipCode:function(str){if(str==null)return"";str=this.replace(str,"-","");if(str.length<4)return str;return this.left(str,3)+"-"+str.substring(3)},formatComma:function(str){str+='';x=str.split('.');x1=x[0];x2=x.length>1?'.'+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2')}return x1+x2},formatTelNo:function(str){if(!str)return"";if(str.length<3)return str;else if(str.length>=3&str.length<5){return str.replace(/(^0(?:2|[0-9]{2}))([0-9]+$)/,"$1-$2")}else if(str.length>=5&str.length<8){return str.replace(/(^0(?:2|[0-9]{2}))([0-9]{3,4})([0-9]+$)/,"$1-$2-$3")}else{return str.replace(/(^0(?:2|[0-9]{2}))([0-9]+)([0-9]{4}$)/,"$1-$2-$3")}},isCurrency:function(str){return!str.match(/[^0-9,\.]{1,}/)},isInteger:function(str){return!str.match(/[^0-9]{1,}/)},isNumberDash:function(str){return!str.match(/[^0-9\-]{1,}/)},getBytesLength:function(str){str_len=str.length;byte_cnt=0;if(str_len!=escape(str).length){for(var i=0;i<str_len;i++){byte_cnt++;if(this.isUnicode(str.charAt(i))){byte_cnt++}}}else byte_cnt=str_len;return byte_cnt},isUnicode:function(chr){return(escape(chr).length==6)},isMail:function(str){var mailexp=/^[0-9a-zA-Z-_\.]*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;if(!mailexp.test(str)){return false}return true},removeHTML:function(text){var objReg=new RegExp();objReg=/[<][^>]*[>]/gi;text=text.replace(objReg,"");return text},removeAnchor:function(text){text=text.replace(/<a(.*?)>/gi,"");text=text.replace(/<(\/?)a>/gi,"");return text}};osstem.event={EVENT_COMMA:function(evt){if(!osstem.string.isCurrency(this.value)){alert("숫자만 입력가능합니다.");this.value=this.value.replace(/[^0-9,\.]/g,"");return false}this.value=osstem.string.formatComma(this.value.replace(/,/g,""));return true},EVENT_INT:function(evt){if(!osstem.string.isInteger(this.value)){alert("숫자만 입력가능합니다.");this.value=this.value.replace(/[^0-9]/g,"");return false}return true},EVENT_CURRENCY:function(evt){if(!osstem.string.isCurrency(this.value)){alert("숫자만 입력가능합니다.");this.value=this.value.replace(/[^0-9,\.]/g,"");return false}return true},EVENT_TELNO:function(evt){var str=this.value.replace(/[^0-9]/g,"");if(!osstem.string.isNumberDash(this.value)){alert("전화번호 형식 123-5678-9999 만 입력가능합니다.");this.value=this.value.replace(/[^0-9\-]/g,"");return false}this.value=osstem.string.formatTelNo(str);return true},EVENT_DATE:function(evt){var str=this.value.replace(/[^0-9]/g,"");if(!osstem.string.isNumberDash(this.value)){alert("날자형식 9999-12-31 만 입력가능합니다.");this.value=str;return false}this.value=osstem.string.formatDate(str,"-");return true},EVENT_SSN:function(evt){var str=this.value.replace(/[^0-9]/g,"");if(!osstem.string.isNumberDash(this.value)){alert("주민번호 형식 800101-1**** 만 입력가능합니다.");this.value=str;return false}this.value=osstem.string.formatSsn(str);return true}};osstem.util={min:function(val1,val2){if(val1<val2)return val1;else return val2},floor:function(num,dec){var temp=osstem.util.decToDigit(dec);num=num*temp;num=Math.round(num);num=num/temp;return num},decToDigit:function(dec){var temp=1;if(dec>=1){for(var i=0;i<dec;i++){temp=temp*10}}else if(dec<1){for(var i=dec;i<0;i++){temp=temp/10}}return temp},isEmpty:function(collection){if(!collection)return true;if(collection.length==0)return true;return false},getDateString:function(date,concatChar){return date.getFullYear()+concatChar+osstem.string.lpad(""+(date.getMonth()+1),2,'0')+concatChar+osstem.string.lpad(""+date.getDate(),2,'0')},getUrlVars:function(){var vars={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value});return vars},makeParams:function(params){var s='';for(var n in params){s+=n+"="+params[n]+"&"}s=s.substring(0,s.length-1);var result="?"+s;return result},dummy:function(){}};osstem.json={toQueryString:function(dataObject){var result="";for(var prop in dataObject){result+="&"+prop+"="+dataObject[prop]}return result},getJSONString:function(object){return $.toJSON(object)},dummy:function(){}};osstem.http={ajax:function(opts){var settings={url:"",target:document.body,errorProcType:"alert",data:{},success:function(){},error:function(){},dataType:"json",type:"post",sendDataType:"json"};$.extend(settings,opts);$.ajax(settings)},setCookie:function(key,value){$.cookie(key,null,{path:'/'});$.cookie(key,value,{path:'/'})},removeCookie:function(key){$.cookie(key,null,{path:'/'})},getCookie:function(key){return $.cookie(key)},dummy:function(){}};osstem.data={setForm:function(jsonObj){this.setFormRecursive("",jsonObj)},setFormRecursive:function(parentElementName,jsonObj){var prefix=(parentElementName=="")?"":parentElementName+".";for(var key in jsonObj){var srchKey=prefix+key;var eArr=$("*[data-name='"+srchKey+"']");if(!eArr)continue;var propValue=jsonObj[key];if(!propValue)continue;var e=eArr[0];if(typeof propValue=="object"){if(propValue.constructor.toString().indexOf("Array")>-1){if(!e)continue;if(e.type=="checkbox"){for(var j=0;j<eArr.length;j++){eArr[j].checked=false}for(var i=0;i<propValue.length;i++){for(var j=0;j<eArr.length;j++){if(propValue[i]==eArr[j].value){eArr[j].checked=true}}}}else if(e.type=="select-multiple"){for(var i=0;i<e.options.length;i++){var opt=e.options[i];opt.selected=false}for(var i=0;i<e.options.length;i++){var opt=e.options[i];for(var j=0;j<propValue.length;j++){if(propValue[j]==opt.value){opt.selected=true}}}}}else{this.setFormRecursive(prefix+key,propValue)}}else{if(!e){continue}if(e.type){if(e.type=="text"){e.value=propValue}else if(e.type=="hidden"||e.type=="password"||e.type=="textarea"){e.value=propValue}else if(e.type=="checkbox"){for(var i=0;i<eArr.length;i++){eArr[i].checked="false";if(eArr[i].value==propValue){eArr[i].checked="true"}}}else if(e.type=="radio"){for(var i=0;i<eArr.length;i++){eArr[i].checked=false;if(eArr[i].value==propValue){eArr[i].checked=true;break}}}else if(e.type=="select-one"){for(var i=0;i<e.options.length;i++){var opt=e.options[i];opt.selected=false;if(opt.value==propValue){opt.selected=true;break}}}else if(e.type=="select-multiple"){for(var i=0;i<e.options.length;i++){var opt=e.options[i];opt.selected=false;if(opt.value==propValue){opt.selected=true;break}}}}else{e.innerHTML=propValue}}}},setJSONMember:function(rootObject,e){var dataName=$(e).attr('data-name');if(dataName.indexOf(".")>0){var names=dataName.split(".");var jsonMember=null;for(var i=0;i<names.length-1;i++){if(i==0){if(!rootObject[names[i]])rootObject[names[i]]={};jsonMember=rootObject[names[i]]}else{if(!jsonMember[names[i]])jsonMember[names[i]]={};jsonMember=jsonMember[names[i]]}}if(e.type){osstem.data.setJSONMemberByValue(jsonMember,names[names.length-1],e)}else{jsonMember[names[names.length-1]]=$(e).html()}}else{if(e.type){osstem.data.setJSONMemberByValue(rootObject,dataName,e)}else{rootObject[dataName]=$(e).html()}}return rootObject},setJSONMemberByValue:function(fld,name,e){switch(e.type){case"radio":fld[name]=e.value;break;case"select-multiple":fld[name]=[];var arr=fld[name];for(var j=0;j<e.options.length;j++){if(e.options[j].selected){arr.push(e.options[j].value)}}break;case"select-one":fld[name]=e.options[e.selectedIndex].value;break;case"checkbox":var dataName=$(e).attr('data-name');var ele=$('*[data-name='+dataName+']');if(ele.length==1){if(e.checked){fld[name]=e.value}else{fld[name]=null}break}if(!fld[name])fld[name]=[];var chkbox=fld[name];if(e.checked){chkbox.push(e.value)}break;case"text":case"hidden":case"password":fld[name]=e.value;break;case"textarea":fld[name]=osstem.replace(e.value,"\r\n","\\n");break}},createData:function(){var model={};var eArr=$("*[data-name]");if(!eArr)return;for(var i=0;i<eArr.length;i++){osstem.data.setJSONMember(model,eArr[i])}return model},setSelect:function(selector,optionValue){$(selector).each(function(){if(this.value==optionValue){this.selected=true}else{this.selected=false}})},setSelectMultiple:function(selector,optionValues){$(selector).each(function(){for(var i=0;i<optionValues.length;i++){if(optionValues[i]===this.value){this.selected=true}}})},setRadio:function(selector,radioValue){$(selector).each(function(){if(this.value==radioValue){this.checked=true}else{this.checked=false}})},setCheckbox:function(selector,checkValues){$(selector).each(function(){this.checked=false});$(selector).each(function(){for(var i=0;i<checkValues.length;i++){if(this.value==checkValues[i]){this.checked=true}}})},moveSelect:function(elementId,direction){var element=document.getElementById(elementId);var selIndex=element.selectedIndex;var elementLength=element.options.length;var selText=element.options[selIndex].text;var selValue=element.options[selIndex].value;if(selIndex<0){return}if(direction=="top"){var index=selIndex;while(index>0){element.options[index].text=element.options[index-1].text;element.options[index].value=element.options[index-1].value;index--}element.options[0].text=selText;element.options[0].value=selValue;element.selectedIndex=0}else if(direction=="up"){if(selIndex-1<0)return;var oldText=element.options[selIndex-1].text;var oldValue=element.options[selIndex-1].value;element.options[selIndex-1].text=selText;element.options[selIndex-1].value=selValue;element.options[selIndex].text=oldText;element.options[selIndex].value=oldValue;element.selectedIndex=selIndex-1}else if(direction=="down"){if(selIndex+2>elementLength)return;var oldText=element.options[selIndex+1].text;var oldValue=element.options[selIndex+1].value;element.options[selIndex+1].text=selText;element.options[selIndex+1].value=selValue;element.options[selIndex].text=oldText;element.options[selIndex].value=oldValue;element.selectedIndex=selIndex+1}else if(direction=="bottom"){var index=selIndex;while(index<elementLength-1){element.options[index].text=element.options[index+1].text;element.options[index].value=element.options[index+1].value;index++}element.options[element.options.length-1].text=selText;element.options[element.options.length-1].value=selValue;element.selectedIndex=element.options.length-1}else return},seletOptionRemoveAll:function(selector){while($(selector+" option").length!=0){$(selector+" option:eq(0)").remove()}},seletOptionRemove:function(selector){$(selector+" option:selected").remove()},checkBoxCheckAll:function(selector_First,selector_Array){$(selector_Array).each(function(){$(this).prop('checked',$(selector_First).prop("checked"))})},dummy:function(){}};osstem.ui={showModal:function(opts){var opts2=$.extend({},opts,{modal:true});return $(opts.selector).dialog(opts2)},showDialog:function(opts){return $(opts.selector).dialog(opts)},swapImage:function(src,overImage,outImage){$(src).mouseover(function(){this.src=overImage}).mouseout(function(){this.src=outImage})},getIframe:function(iframeId){return document.getElementById(iframeId).contentWindow||document.frames[iframeId]},getCenterXY:function(w,h){var dimension={};demention.X=(screen.availWidth/2)-(w/2);demention.Y=(screen.availHeight/2)-(h/2)-40;return dimension},getBounds:function(selector){var ret={left:$(selector).offset().left,top:$(selector).offset().top,height:$(selector).outerHeight(),width:$(selector).outerWidth()};return ret},showLayer:function(selector,source){var offset=$(source).offset();var height=$(source).outerHeight();var width=$(source).outerWidth();if(typeof console=="object"){console.log(offset.left);console.log(offset.top+height)}return $(selector).css("left",offset.left).css("top",offset.top+height).css("position","absolute").show()}};osstem.bean=function(value){var val=value;function setValue(v){if(v)val=v};function getValue(){return val};return{set:setValue,get:getValue}};osstem.hello={aa:function(){if(typeof console=="object"){console.log('aa')}osstem.hello.bb()},bb:function(){if(typeof console=="object"){console.log('bb')}}};return osstem})();window.osstem=osstem})(jQuery);